 R←Test_0152(stopFlag batchFlag);⎕TRAP;body;f1;ns;ts
⍝ Exercise the functions Timestamp2Float and Float2Timestamp
 ⎕TRAP←(999 'C' '. ⍝ Deliberate error')(0 'N')
 R←∆Failed

 body←⎕SRC ##.IniFiles
 #.⎕SHADOW'IniFiles2'
 (0⊃body),←'2'
 body←(¯1↓body),('∇r←Exec statement' ':Access Public Shared' 'r←⍎statement' '∇'),¯1↑body
 #.⎕FIX body

 ns←⎕NS''
 ns.⎕FX #.IniFiles2.Exec'⎕cr ''Timestamp2Float'''
 ns.⎕FX #.IniFiles2.Exec'⎕cr ''Float2Timestamp'''

 ts←2014 9 18 8 4 0 156
 →FailsIf ts≢ns.(Float2Timestamp Timestamp2Float)ts

 R←∆OK
